time24h="\t"
pathShort="\w"

tput sgr0
RED=$(tput setaf 9)
GREEN=$(tput setaf 112)
GREY=$(tput setaf 7)
YELLOW=$(tput bold ; tput setaf 3)
RESET=$(tput sgr0)

function git_ps1() {
  # check if we're in a git repo
  git rev-parse --is-inside-work-tree &>/dev/null 2>&1 || return;
  #get branch name
  branch=$(git symbolic-ref -q HEAD | sed -e 's|^refs/heads/||');
  if [ $(git status -sb | wc -l) -eq "1" ]; then
    # Clean repository - nothing to commit
    echo $GREEN"("$branch") ";
  else
    #files were modified
    git diff --no-ext-diff --quiet --exit-code &>/dev/null 2>&1 || modified=" *";
    #files were added
    git diff-index --cached --quiet HEAD -- &>/dev/null 2>&1 || added=" +";

    echo $RED"{"$branch"$modified$added} ";
  fi
}

export PS1=$GREY$time24h' $(git_ps1 "%s")'$YELLOW$pathShort$RESET' \$ '
